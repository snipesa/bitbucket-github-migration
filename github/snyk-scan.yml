# .github/workflows/snyk-scan.yml
name: Snyk Security Scan
on:
  workflow_call: # This allows the workflow to be called from another workflow
jobs:
  snyk_scan:
    runs-on: ubuntu-latest
    container:
      image: etunyiashime/snyk-scanner:latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
      - name: Run Snyk Scan with Custom EntryPoint
        run: /entrypoint.sh
        env:
          SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}
      - name: Upload Snyk results
        uses: actions/upload-artifact@v3
        with:
          name: snyk-results
          path: snyk-results/